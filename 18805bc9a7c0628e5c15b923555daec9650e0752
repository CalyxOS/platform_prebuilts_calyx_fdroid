{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "8208fa0e_8e8111cf",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-11-30T23:22:27Z",
      "side": 1,
      "message": "This won\u0027t build.\n\nFor on device test, we\u0027ll need the signed index.\n\nTo be verified\n* Make sure all icons show up in SetupWizard\n* Apps install fine.\n* Apps updating fine after OTA update on older build.\n\nAlso, just noticed, Organic Maps is now 32MB larger ðŸ˜­",
      "revId": "18805bc9a7c0628e5c15b923555daec9650e0752",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "94bcb0c1_f7963232",
        "filename": "fdroid-repo.mk",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-11-30T23:22:27Z",
      "side": 1,
      "message": "This broke the build last time.",
      "revId": "18805bc9a7c0628e5c15b923555daec9650e0752",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ff4af3da_ee19fb0a",
        "filename": "fdroid-repo.mk",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2021-12-01T08:41:30Z",
      "side": 1,
      "message": "Yes, this commit is raw output.  We need to decide which path forward to make a working setup. One short term solution is just to manually make the commit, and not include changes that are not wanted.\n\nIn a meeting a while back, you mentioned you were going to try something with Android.bp I think.  Or I could easily generate quoting here.  Properly quoting the file names the real solution IMHO, whether that means adding quotes to Makefiles or using Android.bp.\n\nWhat would be really helpful is a bare minimum setup that would let me call the Android build system to run this one.  Then I could add that to CI even.",
      "parentUuid": "94bcb0c1_f7963232",
      "revId": "18805bc9a7c0628e5c15b923555daec9650e0752",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cf5ffe65_5dd59f56",
        "filename": "fdroid-repo.mk",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-12-01T10:48:42Z",
      "side": 1,
      "message": "Android.bp was not for this bit, that\u0027d replace the Android.mk, but it didn\u0027t work.\n\nI haven\u0027t had a chance to try quoting, I don\u0027t know if it\u0027ll work.\n\nThere\u0027s no easy way to have a bare minimum Android build system setup, and it\u0027s not worth the effort setting this up - this was known working, so as long as things stay the same it will keep working.",
      "parentUuid": "ff4af3da_ee19fb0a",
      "revId": "18805bc9a7c0628e5c15b923555daec9650e0752",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "416a49fe_2a224d77",
        "filename": "fdroid-repo.mk",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2021-12-01T14:10:05Z",
      "side": 1,
      "message": "In my quick test, using a variable works for \u003d, based on this:\nhttps://www.cmcrossroads.com/article/gnu-make-escaping-walk-wild-side\nhttps://stackoverflow.com/questions/2052406/escaping-colons-in-filenames-in-a-makefile/61016478#61016478\n\nYou can see this in action in the most recent update here.",
      "parentUuid": "cf5ffe65_5dd59f56",
      "revId": "18805bc9a7c0628e5c15b923555daec9650e0752",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ea6e16ed_9151f729",
        "filename": "fdroid-repo.mk",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-12-01T14:19:39Z",
      "side": 1,
      "message": "Doesn\u0027t work, build fails.",
      "parentUuid": "416a49fe_2a224d77",
      "revId": "18805bc9a7c0628e5c15b923555daec9650e0752",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "08487b6e_9b90b9cd",
        "filename": "fdroid-repo.mk",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-12-01T14:20:26Z",
      "side": 1,
      "message": "I\u0027d rather not spend more time on this and just get rid of the output.\n\nIf it means having to use a fork of fdroidserver, fine. We need that for the microG signature spoofing patch either way - that\u0027s not used in this repo, but it will be needed for other repos.",
      "parentUuid": "ea6e16ed_9151f729",
      "revId": "18805bc9a7c0628e5c15b923555daec9650e0752",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c5dab767_3b8dbacb",
        "filename": "fdroid-repo.mk",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2021-12-01T14:26:51Z",
      "side": 1,
      "message": "Which version did you try?  This comment is pointing to the unescaped version.  Did you try the version with $(EQUALS_SIGN) ?",
      "parentUuid": "08487b6e_9b90b9cd",
      "revId": "18805bc9a7c0628e5c15b923555daec9650e0752",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4dd31401_d66cfee4",
        "filename": "fdroid-repo.mk",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-12-01T14:28:36Z",
      "side": 1,
      "message": "Yes, I tried patchset 3.\n\n883b8d483b045d7b3e4f4afb2a6e845f2bf5e726\n\nSee below comment, \"To get this patchset to build.\"",
      "parentUuid": "c5dab767_3b8dbacb",
      "revId": "18805bc9a7c0628e5c15b923555daec9650e0752",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0ffde7ac_415941da",
        "filename": "fdroid-repo.mk",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2021-12-01T15:27:27Z",
      "side": 1,
      "message": "\u003e To get this patchset to build.\n\u003e \n\u003e ```\n\u003e sed -i \u0027/EQUALS_SIGN/d\u0027 fdroid-repo.mk\n\u003e sed -i \u0027/unsigned_index/d\u0027 fdroid-repo.mk\n\u003e sed -i \u0027/phoneScreenshots/d\u0027 fdroid-repo.mk\n\u003e ```\n\u003e \n\u003e Any files that are not in this repo should not be in the makefile. That would be easier without the gitignore approach I\u0027d say.\n\nI fixed those last two phoneScreenshots that were sneaking in and removed the EQUALS_SIGN hack.  The changes related to index.jar, index-v1.jar, and index_unsigned.jar are because the index signing is not happening before the files are being committed to prebuilds/calyx/fdroid.  How do you want to handle signing?",
      "parentUuid": "4dd31401_d66cfee4",
      "revId": "18805bc9a7c0628e5c15b923555daec9650e0752",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d8fd20ec_c1466b7f",
        "filename": "fdroid-repo.mk",
        "patchSetId": 1
      },
      "lineNbr": 179,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-11-30T23:22:27Z",
      "side": 1,
      "message": "I wonder if all these multi-lingual screenshots for all these apps will start adding up space wise.\n\nWe don\u0027t want to increase the footprint of this on device by too much.\n\nI did just notice that they aren\u0027t actually added in this repo though, the files are missing, so the build would fail.",
      "revId": "18805bc9a7c0628e5c15b923555daec9650e0752",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0d2b41c6_922c98af",
        "filename": "fdroid-repo.mk",
        "patchSetId": 1
      },
      "lineNbr": 179,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2021-12-01T08:41:30Z",
      "side": 1,
      "message": "It makes sense to me to only include the icon and skip the screenshots.  I think I can just make an --only-include-icon option to the fdroid_ersatz-update.py so that the plugin can be used for other repos where everything should be included.",
      "parentUuid": "d8fd20ec_c1466b7f",
      "revId": "18805bc9a7c0628e5c15b923555daec9650e0752",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a8afd53d_c8c21b31",
        "filename": "fdroid-repo.mk",
        "patchSetId": 1
      },
      "lineNbr": 179,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-12-01T10:48:42Z",
      "side": 1,
      "message": "The other quick hack is basically handle the \u0027.gitignore\u0027 in the python script to avoid mentioning any files not present.\n\nSo copy then \u0027git clean -fdx\u0027 or something, and then run the python script - that way it\u0027ll only have what\u0027s in the repo actually, and not these screenshots which are git ignored.",
      "parentUuid": "0d2b41c6_922c98af",
      "revId": "18805bc9a7c0628e5c15b923555daec9650e0752",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "77e8aec2_60cb8d74",
        "filename": "fdroid-repo.mk",
        "patchSetId": 1
      },
      "lineNbr": 179,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2021-12-01T14:10:05Z",
      "side": 1,
      "message": "I added a config option to fdroid_ersatz-update.py to ignore screenshots and featureGraphics.  Works well, as you can see in this update.",
      "parentUuid": "a8afd53d_c8c21b31",
      "revId": "18805bc9a7c0628e5c15b923555daec9650e0752",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "97c42adc_e1b42c41",
        "filename": "repo/index-v1.json",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-11-30T23:22:27Z",
      "side": 1,
      "message": "Intentional? Need to make sure this doesn\u0027t break anything.",
      "revId": "18805bc9a7c0628e5c15b923555daec9650e0752",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a1238feb_156b0d8b",
        "filename": "repo/index-v1.json",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2021-12-01T14:15:51Z",
      "side": 1,
      "message": "Yes, that\u0027s the format that fdroidclient prefers.  I think it strips trailing slashes anyway.  You can see that f-droid.org and guardianproject both do not use trailing slashes:\nhttps://f-droid.org/repo/index.xml\nhttps://guardianproject.info/fdroid/repo/index.xml",
      "parentUuid": "97c42adc_e1b42c41",
      "revId": "18805bc9a7c0628e5c15b923555daec9650e0752",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "813353c5_8ffd0c87",
        "filename": "repo/index.xml",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-11-30T23:22:27Z",
      "side": 1,
      "message": "This part doesn\u0027t look right. Intentional?",
      "revId": "18805bc9a7c0628e5c15b923555daec9650e0752",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5a5aebac_667065b4",
        "filename": "repo/index.xml",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2021-12-01T14:15:51Z",
      "side": 1,
      "message": "This will work fine, it is the date scraped out of the APK, which is set to that value to be reproducible.  Otherwise, there needs to be some source to save the \"added\" dates.  Are they used at all by Setup Wizard?  My guess is no.  The standard way to do that in a repo is to enable update_stats and commit stats/ to git.",
      "parentUuid": "813353c5_8ffd0c87",
      "revId": "18805bc9a7c0628e5c15b923555daec9650e0752",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    }
  ]
}